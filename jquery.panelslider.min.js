(function(e){function u(b,c){var a=b.outerWidth(!0),d={},m={},f=b.data(),g=f.animate&&f.duration,e=f.animated&&q,l=f.pushContainer||r,k=b.add(l).add(r);if(!(b.length&&b.hasClass(n)||s)){b.trigger("psBeforeOpen",[f]);s=!0;b.addClass(n).css({position:"fixed",top:0,height:"100%","z-index":999999});switch(f.side){case "left":b.css({left:"-"+a+"px",right:"auto"});d["margin-left"]="+="+a;m.left="+="+a;break;case "right":b.css({left:"auto",right:"-"+a+"px"}),d["margin-right"]="+="+a,m.right="+="+a}a=function(a){s=
!1;k.removeClass(w).addClass(x);b.trigger("psOpen",[f]);if("function"==typeof f.onOpen)f.onOpen();"function"==typeof c&&c.call(b,f)};b.show();k.removeClass(y+" "+x).addClass(w);e&&b[0].offsetWidth;var p=f.openClass;p&&b.addClass(p);(p=f.openBodyClass||p)&&r.addClass(p);if(g)l.animate(d,f.duration),b.animate(m,f.duration,a);else if(l.css(d),b.css(m),e)b.one(q,a);else setTimeout(a,16)}}function k(b){var c=d(l),a=c.data("duration"),h=c.outerWidth(!0),m={},f={},g=c.data(),e=g.openClass,k=g.openBodyClass||
e,u=g.animate&&a,p=g.animated&&q,v=g.pushContainer||r,t=c.add(v).add(r);if(c.length&&c.length&&c.hasClass(n)&&!s){c.trigger("psBeforeClose",[g]);p&&c[0].offsetWidth;e&&c.removeClass(e);s=!0;switch(c.data("side")){case "left":m["margin-left"]="-="+h;f.left="-="+h;break;case "right":m["margin-right"]="-="+h,f.right="-="+h}h=function(a){c.hide();c.removeClass(n);s=!1;k&&r.removeClass(k);t.removeClass(y);c.trigger("psClose",[g]);if("function"==typeof g.onClose)g.onClose();"function"==typeof b&&b.call(c,
g)};t.removeClass(w+" "+x).addClass(y);if(u)c.animate(f,a),v.animate(m,a,h);else if(c.css(f),v.css(m),p)c.one(q,h);else setTimeout(h,16)}}function t(b,c){var a=b.data();if(!a.psInited){var a=d.extend({},d.panelslider.defaults,c,a),h=a.pushContainer?d(a.pushContainer):r;a.pushContainer&&(a.pushContainer=h);var e=a.animatedClass&&b.hasClass(a.animatedClass);e&&(a.animated=!0);a.animated&&(a.animate=!1,!e&&a.animatedClass&&b.add(h).addClass(a.animatedClass));a.psInited=!0;b.data(a)}return a}var d=e.jQuery||
e.Zepto;e=e.Modernizr;var q,x="ps-open",w="ps-in",y="ps-out",n="ps-active-panel",l="."+n,r=d("body"),s=!1;d.panelslider=function(b,c){var a=d(l);t(b,c);var e=a.length&&a.hasClass(n);e&&a[0]!=b[0]?k(function(){u(b)}):a.length&&e||u(b)};d.panelslider.close=k;d.panelslider.defaults={side:"left",duration:200,clickClose:!0,openClass:null,openBodyClass:null,animatedClass:"ps-animated",animate:!0,animated:!1,pushContainer:null,onOpen:null};d(document).on("click keyup",function(b){var c=d(l);("keyup"!=b.type||
27==b.keyCode)&&c.length&&c.hasClass(n)&&c.data("clickClose")&&k()}).on("dblclick",function(b){b=d(l);b.length&&b.hasClass(n)&&k()}).on("click dblclick",l,function(b){b.stopPropagation()});d.fn.panelslider=function(b){var c=d(b.context||this.attr("href"));t(c,b);this.off("click.panelslider").on("click.panelslider",function(a){a.preventDefault();a=d(l);var c=d(b.context||d(this).attr("href"));a.length&&a.hasClass(n)&&c[0]==a[0]?k():d.panelslider(c,b)});return this};e&&e.csstransitions&&("transition"in
d.support||(d.support.transition={}),d.support.transition.end||(d.support.transition.end={WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"}[e.prefixed("transition")]||"transitionend"));(q=d.support.transition)&&(q=q.end)})(this);
