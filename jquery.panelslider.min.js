(function(d){function t(b,c){var a=b.outerWidth(!0),e={},g={},f=b.data(),h=f.animate&&f.duration,n=f.animated&&d.support.transition,q=f.pushContainer||p,m=b.add(q).add(p);if(!(b.length&&b.hasClass(l)||r)){b.trigger("psBeforeOpen",[f]);r=!0;b.addClass(l).css({position:"fixed",top:0,height:"100%","z-index":999999});switch(f.side){case "left":b.css({left:"-"+a+"px",right:"auto"});e["margin-left"]="+="+a;g.left="+="+a;break;case "right":b.css({left:"auto",right:"-"+a+"px"}),e["margin-right"]="+="+a,g.right=
"+="+a}a=function(a){r=!1;m.removeClass(v).addClass(w);b.trigger("psOpen",[f]);if("function"==typeof f.onOpen)f.onOpen();"function"==typeof c&&c.call(b,f)};b.show();m.removeClass(x+" "+w).addClass(v);n&&b[0].offsetWidth;var k=f.openClass;k&&b.addClass(k);(k=f.openBodyClass||k)&&p.addClass(k);if(h)q.animate(e,f.duration),b.animate(g,f.duration,a);else if(q.css(e),b.css(g),n)b.one(n.end,a);else setTimeout(a,16)}}function s(b){var c=d(m),a=c.data("duration"),e=c.outerWidth(!0),g={},f={},h=c.data(),n=
h.openClass,q=h.openBodyClass||n,s=h.animate&&a,k=h.animated&&d.support.transition,u=h.pushContainer||p,t=c.add(u).add(p);if(c.length&&c.length&&c.hasClass(l)&&!r){c.trigger("psBeforeClose",[h]);k&&c[0].offsetWidth;n&&c.removeClass(n);r=!0;switch(c.data("side")){case "left":g["margin-left"]="-="+e;f.left="-="+e;break;case "right":g["margin-right"]="-="+e,f.right="-="+e}e=function(a){c.hide();c.removeClass(l);r=!1;q&&p.removeClass(q);t.removeClass(x);c.trigger("psClose",[h]);if("function"==typeof h.onClose)h.onClose();
"function"==typeof b&&b.call(c,h)};t.removeClass(v+" "+w).addClass(x);if(s)c.animate(f,a),u.animate(g,a,e);else if(c.css(f),u.css(g),k)c.one(k.end,e);else setTimeout(e,16)}}function y(b,c){var a=b.data();if(!a.psInited){var a=d.extend({},d.panelslider.defaults,a,c),e=a.pushContainer?d(a.pushContainer):p;a.pushContainer&&(a.pushContainer=e);var g=a.animatedClass&&b.hasClass(a.animatedClass);g&&(a.animated=!0);a.animated&&(a.animate=!1,!g&&a.animatedClass&&b.add(e).addClass(a.animatedClass));a.psInited=
!0;b.data(a)}return a}var w="ps-open",v="ps-in",x="ps-out",l="ps-active-panel",m="."+l,p=d("body"),r=!1;d.panelslider=function(b,c){var a=d(m);y(b,c);var e=a.length&&a.hasClass(l);e&&a[0]!=b[0]?s(function(){t(b)}):a.length&&e||t(b)};d.panelslider.close=s;d.panelslider.defaults={side:"left",duration:200,clickClose:!0,openClass:null,openBodyClass:null,animatedClass:"ps-animated",animate:!0,animated:!1,pushContainer:null,onOpen:null};d(document).on("click keyup",function(b){var c=d(m);("keyup"!=b.type||
27==b.keyCode)&&c.length&&c.hasClass(l)&&c.data("clickClose")&&s()}).on("click",m,function(b){b.stopPropagation()});d.fn.panelslider=function(b){var c=d(b.context||this.attr("href"));y(c,b);this.off("click.panelslider").on("click.panelslider",function(a){a.preventDefault();a=d(m);var c=d(b.context||d(this).attr("href"));a.length&&a.hasClass(l)&&c[0]==a[0]?s():d.panelslider(c,b)});return this}})(jQuery);
