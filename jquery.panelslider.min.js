(function(e){function u(b,c){var a=b.outerWidth(!0),d={},k={},f=b.data(),g=f.animate&&f.duration,e=f.animated&&p,r=f.pushContainer||q,n=b.add(r).add(q);if(!(b.length&&b.hasClass(l)||s)){b.trigger("psBeforeOpen",[f]);s=!0;b.addClass(l).css({position:"fixed",top:0,height:"100%","z-index":999999});switch(f.side){case "left":b.css({left:"-"+a+"px",right:"auto"});d["margin-left"]="+="+a;k.left="+="+a;break;case "right":b.css({left:"auto",right:"-"+a+"px"}),d["margin-right"]="+="+a,k.right="+="+a}a=function(a){s=
!1;n.removeClass(w).addClass(x);b.trigger("psOpen",[f]);if("function"==typeof f.onOpen)f.onOpen();"function"==typeof c&&c.call(b,f)};b.show();n.removeClass(y+" "+x).addClass(w);e&&b[0].offsetWidth;var m=f.openClass;m&&b.addClass(m);(m=f.openBodyClass||m)&&q.addClass(m);if(g)r.animate(d,f.duration),b.animate(k,f.duration,a);else if(r.css(d),b.css(k),e)b.one(p,a);else setTimeout(a,16)}}function t(b){var c=d(n),a=c.data("duration"),h=c.outerWidth(!0),k={},f={},g=c.data(),e=g.openClass,r=g.openBodyClass||
e,t=g.animate&&a,m=g.animated&&p,v=g.pushContainer||q,u=c.add(v).add(q);if(c.length&&c.length&&c.hasClass(l)&&!s){c.trigger("psBeforeClose",[g]);m&&c[0].offsetWidth;e&&c.removeClass(e);s=!0;switch(c.data("side")){case "left":k["margin-left"]="-="+h;f.left="-="+h;break;case "right":k["margin-right"]="-="+h,f.right="-="+h}h=function(a){c.hide();c.removeClass(l);s=!1;r&&q.removeClass(r);u.removeClass(y);c.trigger("psClose",[g]);if("function"==typeof g.onClose)g.onClose();"function"==typeof b&&b.call(c,
g)};u.removeClass(w+" "+x).addClass(y);if(t)c.animate(f,a),v.animate(k,a,h);else if(c.css(f),v.css(k),m)c.one(p,h);else setTimeout(h,16)}}function z(b,c){var a=b.data();if(!a.psInited){var a=d.extend({},d.panelslider.defaults,a,c),h=a.pushContainer?d(a.pushContainer):q;a.pushContainer&&(a.pushContainer=h);var e=a.animatedClass&&b.hasClass(a.animatedClass);e&&(a.animated=!0);a.animated&&(a.animate=!1,!e&&a.animatedClass&&b.add(h).addClass(a.animatedClass));a.psInited=!0;b.data(a)}return a}var d=e.jQuery||
e.Zepto;e=e.Modernizr;var p,x="ps-open",w="ps-in",y="ps-out",l="ps-active-panel",n="."+l,q=d("body"),s=!1;d.panelslider=function(b,c){var a=d(n);z(b,c);var e=a.length&&a.hasClass(l);e&&a[0]!=b[0]?t(function(){u(b)}):a.length&&e||u(b)};d.panelslider.close=t;d.panelslider.defaults={side:"left",duration:200,clickClose:!0,openClass:null,openBodyClass:null,animatedClass:"ps-animated",animate:!0,animated:!1,pushContainer:null,onOpen:null};d(document).on("click keyup",function(b){var c=d(n);("keyup"!=b.type||
27==b.keyCode)&&c.length&&c.hasClass(l)&&c.data("clickClose")&&t()}).on("click",n,function(b){b.stopPropagation()});d.fn.panelslider=function(b){var c=d(b.context||this.attr("href"));z(c,b);this.off("click.panelslider").on("click.panelslider",function(a){a.preventDefault();a=d(n);var c=d(b.context||d(this).attr("href"));a.length&&a.hasClass(l)&&c[0]==a[0]?t():d.panelslider(c,b)});return this};e&&e.csstransitions&&("transition"in d.support||(d.support.transition={}),d.support.transition.end||(d.support.transition.end=
{WebkitTransition:"webkitTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"}[e.prefixed("transition")]||"transitionend"));(p=d.support.transition)&&(p=p.end)})(this);
